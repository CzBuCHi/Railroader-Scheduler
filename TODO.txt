BUG: move backward: wrong side of wagon  or  carindex - 1
BUG: move comand do not finish when coupled
BUG: move after switch: missing fouling distance when entering from 'enter' segment
BUG: move corutime not stoping when train switched to manual
BUG: stop before switch not work

TODO: IState machine
    merge ModifySchedule + ExecuteSchedule ?